name: ParticleAnnotation
display_name: Topaz Active Learning 
contributions:
  commands:
    # Read/Write files
    - id: ParticleAnnotation.import_data
      python_name: ParticleAnnotation.utils._reader:get_reader_img
      title: Open micrograph
    - id: ParticleAnnotation.import_xyz
      python_name: ParticleAnnotation.utils._reader:get_reader_xyz
      title: Open particle label
    - id: ParticleAnnotation.write_to_file
      python_name: ParticleAnnotation.utils.export_data:write_to_file
      title: Save annotation data

    # Widgets
    - id: ParticleAnnotation.viewer_tm_score_3d
      python_name: ParticleAnnotation._qt.local_tm_score_3d_viewer:AnnotationWidget
      title: Local 3D TM Score

    - id: ParticleAnnotation.viewer_tm_score_3d_predict
      python_name: ParticleAnnotation._qt.local_tm_score_3d_predict_viewer:PredictionWidget
      title: Local 3D TM Score

    - id: ParticleAnnotation.viewer_cloud_tm_score_3d
      python_name: ParticleAnnotation._qt.cloud_tm_score_3d_viewer:AnnotationWidget
      title: AWS 3D TM Score

  readers:
    - command: ParticleAnnotation.import_data
      accepts_directories: False
      filename_patterns: ['*.mrc', '*.rec', '*.tiff', '*.tif', '*.am']
    - command: ParticleAnnotation.import_xyz
      accepts_directories: False
      filename_patterns: [ '*.csv','*.npy', '*.star']

  writers:
    - command: ParticleAnnotation.write_to_file
      layer_types: ['points*', 'image*', 'shapes*']
      filename_extensions: ['.csv']

  widgets:
    - command: ParticleAnnotation.viewer_tm_score_3d
      display_name: Local 3D TM Score [CPU/GPU]

    - command: ParticleAnnotation.viewer_tm_score_3d_predict
      display_name: Local 3D TM Score [CPU/GPU]

    - command: ParticleAnnotation.viewer_cloud_tm_score_3d
      display_name: AWS Cloud [GPU]
