name: ParticleAnnotation
display_name: Topaz Active Learning 
contributions:
  commands:
    # Read/Write files
    - id: ParticleAnnotation.import_data
      python_name: ParticleAnnotation.utils._reader:get_reader_img
      title: Open micrograph
    - id: ParticleAnnotation.import_xyz
      python_name: ParticleAnnotation.utils._reader:get_reader_xyz
      title: Open particle label
    - id: ParticleAnnotation.write_to_file
      python_name: ParticleAnnotation.utils.export_data:write_to_file
      title: Save annotation data

    # Widgets
    - id: ParticleAnnotation.viewer
      python_name: ParticleAnnotation._qt.window_viewer:MultipleViewerWidget
      title: Local training/prediction

    - id: ParticleAnnotation.viewer_cloud
      python_name: ParticleAnnotation._qt.cloud_window_viewer:MultipleViewerWidget
      title: Cloud training

    - id: ParticleAnnotation.viewer_predict
      python_name: ParticleAnnotation._qt.predict:AnnotationWidgetv2
      title: Cloud prediction

    - id: ParticleAnnotation.viewer_upload
      python_name: ParticleAnnotation._qt.upload:WidgetUpload
      title: Cloud upload data

  readers:
    - command: ParticleAnnotation.import_data
      accepts_directories: False
      filename_patterns: ['*.mrc', '*.rec', '*.tiff', '*.tif', '*.am']
    - command: ParticleAnnotation.import_xyz
      accepts_directories: False
      filename_patterns: [ '*.csv','*.npy', '*.star']

  writers:
    - command: ParticleAnnotation.write_to_file
      layer_types: ['points*', 'image*', 'shapes*']
      filename_extensions: ['.csv']

  widgets:
    - command: ParticleAnnotation.viewer
      display_name: Local [CPU/GPU]

    - command: ParticleAnnotation.viewer_cloud
      display_name: AWS Cloud [GPU]

    - command: ParticleAnnotation.viewer_predict
      display_name: Predict Cloud [GPU]

    - command: ParticleAnnotation.viewer_upload
      display_name: Upload data to AWS